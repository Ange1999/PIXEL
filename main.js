!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="dist/",t(t.s=8)}([function(e,n,t){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),c=[];function a(e){for(var n=-1,t=0;t<c.length;t++)if(c[t].identifier===e){n=t;break}return n}function s(e,n){for(var t={},r=[],i=0;i<e.length;i++){var o=e[i],s=n.base?o[0]+n.base:o[0],l=t[s]||0,d="".concat(s," ").concat(l);t[s]=l+1;var u=a(d),g={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(c[u].references++,c[u].updater(g)):c.push({identifier:d,updater:m(g,n),references:1}),r.push(d)}return r}function l(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=t.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var c=o(e.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(n)}return n}var d,u=(d=[],function(e,n){return d[e]=n,d.filter(Boolean).join("\n")});function g(e,n,t,r){var i=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(n,i);else{var o=document.createTextNode(i),c=e.childNodes;c[n]&&e.removeChild(c[n]),c.length?e.insertBefore(o,c[n]):e.appendChild(o)}}function f(e,n,t){var r=t.css,i=t.media,o=t.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,p=0;function m(e,n){var t,r,i;if(n.singleton){var o=p++;t=h||(h=l(n)),r=g.bind(null,t,o,!1),i=g.bind(null,t,o,!0)}else t=l(n),r=f.bind(null,t,n),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else i()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=i());var t=s(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var i=a(t[r]);c[i].references--}for(var o=s(e,n),l=0;l<t.length;l++){var d=a(t[l]);0===c[d].references&&(c[d].updater(),c.splice(d,1))}t=o}}}},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var i=(c=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(s," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[t].concat(o).concat([i]).join("\n")}var c,a,s;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(i[c]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);r&&i[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),n.push(s))}},n}},function(e,n,t){var r=t(0),i=t(3);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,n,t){var r=t(1),i=t(4),o=t(5);n=r(!1);var c=i(o);n.push([e.i,'html{ \r\n    overflow:hidden;\r\n}\r\n#body{\r\n    height: 100vh;\r\n    width: 100vw;\r\n    margin: 0;\r\n}\r\nmain{\r\n    display: flex;\r\n}\r\n#header-wrap{\r\n    height: 5vh;\r\n    width: 100vw;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    background-color: #1c1d20ec;\r\n}\r\n.instruments{\r\n    width: 35px;\r\n    height: 35px;\r\n    cursor: pointer;\r\n   /* border: 3px solid rgb(56, 52, 52);*/\r\n    margin-right: 5px;\r\n    margin-top: 10px;\r\n   background-color: rgb(141, 136, 125);\r\n}\r\n\r\n#toolbar{\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 10px;\r\n}\r\n\r\n#color-panel{\r\n    display: flex;\r\n    margin-top: 10px;\r\n    \r\n    flex-direction: column;\r\n}\r\ninput[type="color" i]{\r\n    width: 35px;\r\n    cursor: pointer;\r\n}\r\n\r\n.selectedButton{\r\n    outline: 1px solid orange;\r\n}\r\n#left-sticky-section{\r\n    height: 95vh;\r\n    width: 15vw;\r\n    display: flex;\r\n    flex-direction: row;\r\n    background-color: #0a0a0fec;\r\n}\r\n#drawing-canvas-container{\r\n    height: 95vh;\r\n    width: 70vw;\r\n    background-color: rgb(92, 79, 95);\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n#parent-canvas{\r\n    width: 70vw;\r\n    height: 95vh;\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    align-items: center;\r\n    }\r\n#right-sticky-section{\r\n    height: 95vh;\r\n    width: 15vw;\r\n   /* background-color: rgb(89, 89, 90);*/\r\n}\r\n#drawing-canvas{\r\n    background-image: url('+c+");\r\n    background-repeat: round;\r\n    cursor: pointer;\r\n}\r\n#cabbage-skin-canvas{\r\n    position: absolute;\r\n}\r\n#dot-overlay-canvas{\r\n    position: absolute;\r\n    z-index: 1000;\r\n}\r\n\r\n#thickness-slider{\r\nwidth: 40px;\r\ncursor: pointer;\r\n}\r\n#commonButtonContainer{\r\n    display: flex;\r\n    margin: 4px;\r\n    flex-direction: column;\r\n}\r\n#butt-save-img{\r\n    outline: none;\r\n    background: #343434;\r\n    height: 30px;\r\n    opacity: 0.7;\r\n    color: white;\r\n}\r\n#butt-delete-img{\r\n    outline: none;\r\n    height: 30px;\r\n    background: #343434;\r\n    opacity: 0.7;\r\n    color: white;   \r\n}\r\n#add-img{\r\n        width: 0.1px;\r\n        height: 0.1px;\r\n        opacity: 0;\r\n        overflow: hidden;\r\n        position: absolute;\r\n        z-index: -1;\r\n    }\r\n#add-img + label {\r\n    font-size: 1.25em;\r\n    font-weight: 700;\r\n    color: white;\r\n    background: #343434;\r\n    opacity: 0.7;\r\n    display: inline-block;\r\n    cursor: pointer; \r\n}\r\n#add-img:focus + label,\r\n#add-img + label:hover {\r\n    background: #343434;\r\n}",""]),e.exports=n},function(e,n,t){"use strict";e.exports=function(e,n){return n||(n={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,n,t){"use strict";t.r(n),n.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABlBMVEVMTExVVVUnhsEkAAAAHUlEQVR4AWOAAUYoQOePEAUj3v9oYDQ9gMBoegAAJFwCAbLaTIMAAAAASUVORK5CYII="},function(e,n,t){var r=t(0),i=t(7);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,n,t){(n=t(1)(!1)).push([e.i,"#right-sticky-section{background-color:#0a0a0fec}#header-wrap{height:5vh;width:100vw;display:flex;justify-content:space-between;background-color:#1c1d20ec}#header-wrap h1{margin-top:0;margin-left:20px;font-family:'Work Sans', sans-serif;color:orange;font-weight:400}\n",""]),e.exports=n},function(e,n,t){"use strict";t.r(n);t(2),t(6);let r=document.getElementById("body");var i=function(e){r.insertAdjacentHTML("afterbegin",`<header id = "header-wrap">\n    <h1>PIXEL</h1>\n        </header>\n    <main>\n    <section id='left-sticky-section'>\n  \n  <div id='toolbar'>\n<div><img title = "Pen tool" class = 'instruments'  id='pen' src='./img/pen.png'></div>\n<div><img title = "Eraser tool" class = 'instruments' id='eraser' src='./img/eraser.png'></div>\n<div><img title = "Stroke tool" class = 'instruments' id='line'src='./img/line.png'></div>\n<div><img title = "Rectangle tool" class = 'instruments' id='rectangle' src='./img/rectangle.png'></div>\n<div><img title = "Triangle tool" class = 'instruments'  id='triangle' src='./img/triangle.png'></div>\n<div><img title = "Circle tool" class = 'instruments' id='circle' src='./img/circle.png'></div>\n<div><img title = "Vertical Mirror pen" class = 'instruments' id='mirror-pen' src='./img/mirror-pen.png'></div>\n<div><img class = 'instruments' id='arrow' src='./img/arrow.png'></div>\n<div id="color-panel">\n<input type="color" title = "Left mouse color button" id="color">\n<input type="color" title = "Right mouse color button" id="right-color">\n</div>\n<div id = "slider-container">\n<input type="range" min="1" max="25" value = ${e.getProp("selectedThickness")} id="thickness-slider">\n</div>\n</div>\n\n<div id="preview-list-wrapper">\n<ul class="preview-list"></ul>\n<button>Add new frame</button>\n</div>\n</section>\n<section id='drawing-canvas-container'>\n<div id="parent-canvas">\n<input type="hidden" id="inputText">\n<canvas id="drawing-canvas"></canvas>\n<canvas id="cabbage-skin-canvas"></canvas>\n<canvas id="dot-overlay-canvas"></canvas>\n</div>\n</section>\n<section id='right-sticky-section'>\n<div id="commonButtonContainer">\n<input type="file"name="add-img" id="add-img" multiple>\n<label for="add-img">Choose a file</label>\n<button id="butt-delete-img">Delete picture</button>\n<button id="butt-save-img">Save picture</button>\n</div>\n</section></main>`)};var o=function(e){const n=document.getElementById("toolbar"),t=document.querySelectorAll(".instruments");n.addEventListener("click",e=>{e.target.classList.contains("instruments")&&(t.forEach(e=>{e.classList.remove("selectedButton")}),e.target.classList.add("selectedButton"))}),n.addEventListener("click",(function(n){n.target.classList.contains("instruments")&&e.setProp("selectedTool",n.target.id)}),!1)};const c={pen:function(e,n,t,r,i,o,c,a,s){t.fillStyle=s,t.fillRect(o-a/2,c-a/2,a,a),t.stroke()},eraser:function(e,n,t,r,i,o,c,a,s){e.clearRect(o-a/2,c-a/2,a,a)},line:function(e,n,t,r,i,o,c,a,s){t.beginPath(),t.moveTo(r,i),t.lineTo(o,c),t.clearRect(0,0,n.width,n.height),t.lineWidth=a,t.strokeStyle=s,t.stroke()},imposition:function(e,n){const t=e.getContext("2d"),r=t.getImageData(0,0,e.width,e.height).data,i=n.getContext("2d"),o=i.getImageData(0,0,n.width,n.height).data,c=o.slice(0,o.length),a=r.slice(0,r.length);for(let e=0;e<c.length;e+=4)0==c[e]&&0==c[e+1]&&0==c[e+2]&&0==c[e+3]||(a[e]=c[e],a[e+1]=c[e+1],a[e+2]=c[e+2],a[e+3]=c[e+3]);let s=new ImageData(a,n.width,n.height);t.putImageData(s,0,0),i.clearRect(0,0,n.width,n.height)},rectangle:function(e,n,t,r,i,o,c,a,s){let l=o-r,d=c-i;t.beginPath(),t.rect(r,i,l,d),t.clearRect(0,0,n.width,n.height),t.lineWidth=a,t.strokeStyle=s,t.stroke()},triangle:function(e,n,t,r,i,o,c,a,s){t.beginPath(),t.moveTo(r,i),t.lineTo(o,c),t.lineTo(o-2*(o-r),c),t.closePath(),t.clearRect(0,0,n.width,n.height),t.lineWidth=a,t.strokeStyle=s,t.stroke()},circle:function(e,n,t,r,i,o,c,a,s){let l=Math.pow(Math.pow(o-r,2)+Math.pow(c-i,2),.5);t.beginPath(),t.arc(r,i,l,0,2*Math.PI),t.clearRect(0,0,n.width,n.height),t.lineWidth=a,t.strokeStyle=s,t.stroke()},arrow:function(e,n,t,r,i,o,c,a,s){},followSquare:function(e,n,t,r,i){n.beginPath(),n.rect(t-i/2,r-i/2,i,i),n.closePath(),n.clearRect(0,0,e.width,e.height),n.fillStyle="rgba(107, 105, 105, 0.5)",n.fill(),n.stroke()},"mirror-pen":function(e,n,t,r,i,o,c,a,s){t.fillStyle=s;const l=document.getElementById("drawing-canvas");t.fillRect(o-a/2,c-a/2,a,a),t.fillRect(l.width-o-a/2,c-a/2,a,a)}};function a(e){return c[e]}const s=function(){const e={selectedTool:"pen",selectedThickness:10,selectedLeftColor:"",selectedRightColor:""};return{getProp:function(n){return e[n]},setProp:function(n,t){e[n]=t,console.log(n,t)}}}();i(s),o(s),function(e){const n=document.getElementById("thickness-slider");n.addEventListener("change",(function(t){e.setProp("selectedThickness",n.value)}))}(s),function(e){const n=document.getElementById("parent-canvas"),t=document.getElementById("drawing-canvas"),r=document.getElementById("cabbage-skin-canvas"),i=document.getElementById("dot-overlay-canvas"),o=t.getContext("2d"),c=i.getContext("2d"),s=r.getContext("2d");let l=!1,d=!1,u=0,g=0,f=0,h=0;function p(){t.height=n.offsetHeight,t.width=n.offsetWidth,r.height=n.offsetHeight,r.width=n.offsetWidth,i.height=n.offsetHeight,i.width=n.offsetWidth}function m(n,t){const i=a(e.getProp("selectedTool"));(l||d)&&(console.log(t),i(o,r,s,g,u,h,f,e.getProp("selectedThickness"),t))}function v(n,t){u=n.offsetY,g=n.offsetX,a(e.getProp("selectedTool"))(o,r,s,g,u,h,f,e.getProp("selectedThickness"),t)}p(),window.addEventListener("resize",p),i.addEventListener("contextmenu",e=>{e.preventDefault()}),i.addEventListener("mousedown",n=>{if(1==n.buttons){l=!0;const t=e.getProp("selectedLeftColor");v(n,t),console.log(t)}else if(2==n.buttons){d=!0;const t=e.getProp("selectedRightColor");v(n,t),console.log(t)}}),i.addEventListener("mouseup",e=>{0===e.button?l=!1:2===e.button&&(d=!1),a("imposition")(t,r)}),i.addEventListener("mousemove",n=>{if(f=n.offsetY,h=n.offsetX,d){m(0,e.getProp("selectedRightColor"))}else if(l){m(0,e.getProp("selectedLeftColor"))}const t=e.getProp("selectedThickness");a("followSquare")(i,c,h,f,t)}),i.addEventListener("mouseout",e=>{c.clearRect(0,0,i.width,i.height)})}(s),function(e){const n=document.getElementById("color");n.addEventListener("change",()=>{e.setProp("selectedLeftColor",n.value)})}(s),function(e){const n=document.getElementById("right-color");n.addEventListener("change",()=>{e.setProp("selectedRightColor",n.value),console.log(n.value)})}(s),function(){const e=document.getElementById("add-img"),n=document.getElementById("drawing-canvas"),t=n.getContext("2d");e.addEventListener("change",()=>{const r=new FileReader;r.onload=function(){const e=new Image;e.onload=function(){n.height=e.height,n.width=e.width,t.drawImage(e,0,0,n.width,n.height)},e.src=r.result},r.readAsDataURL(e.files[0])}),document.getElementById("butt-save-img").addEventListener("click",()=>{n.toBlob((function(e){let n=document.createElement("a");n.href=URL.createObjectURL(e),document.body.appendChild(n),n.download="image.png",n.click(),document.body.removeChild(n)}),"image/png")}),document.getElementById("butt-delete-img").addEventListener("click",()=>{t.clearRect(0,0,n.width,n.height)})}()}]);